{% extends "base.html" %}
{% load static %}
{% block title %}Productos{% endblock %}

{% block content %}

<div class="d-flex justify-content-between align-items-center mb-3">
  <h2 class="fw-bold">Productos</h2>
  <a class="btn btn-success" href="{% url 'catalogo:producto_agregar' %}">
    + Agregar producto
  </a>
</div>

<div class="row">
  {% for p in productos %}
    <div class="col-md-4 mb-4">
      <div class="card shadow-sm h-100">
        {% if p.imagen %}
          <img src="{{ p.imagen.url }}" class="card-img-top" style="height:200px;object-fit:cover;">
        {% else %}
          <img src="{% static 'images/placeholder.png' %}" class="card-img-top" style="height:200px;object-fit:cover;">
        {% endif %}

        <div class="card-body">
          <h5 class="fw-bold">{{ p.nombre }}</h5>
          <p class="text-muted">{{ p.descripcion|truncatechars:90 }}</p>
          <p class="fw-bold">Q{{ p.precio }}</p>
          <a href="{% url 'catalogo:producto_detalle' p.slug %}" class="btn btn-outline-primary btn-sm">Ver</a>
          <a href="{% url 'catalogo:producto_editar' p.slug %}" class="btn btn-outline-secondary btn-sm">Editar</a>
        </div>
      </div>
    </div>
  {% empty %}
    <p class="text-center">No hay productos a√∫n.</p>
  {% endfor %}
</div>

{% endblock %}

